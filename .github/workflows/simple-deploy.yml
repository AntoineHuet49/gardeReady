name: Simple Railway Deploy

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  notify-railway:
    runs-on: ubuntu-latest
    name: Trigger Railway Deployment
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Trigger Railway Webhook
      run: |
        if [ -n "${{ secrets.RAILWAY_WEBHOOK_URL }}" ]; then
          curl -X POST ${{ secrets.RAILWAY_WEBHOOK_URL }}
          echo "‚úÖ Railway webhook d√©clench√© avec succ√®s"
        else
          echo "‚ö†Ô∏è RAILWAY_WEBHOOK_URL non configur√© - utilisez le d√©ploiement automatique Railway"
        fi

    - name: Deploy notification
      run: |
        echo "üöÄ D√©ploiement d√©clench√© sur Railway"
        echo "üìä Surveillez le d√©ploiement sur https://railway.app"
        echo "üîç V√©rifiez les logs de d√©ploiement dans Railway"